{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// Регистрируем плагины GSAP\ngsap.registerPlugin(ScrollTrigger, TextPlugin);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (Lucide)\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // 2. ЭФФЕКТ ХЕДЕРА ПРИ СКРОЛЛЕ\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (header) {\n            header.classList.toggle('header--scrolled', window.scrollY > 50);\n        }\n    });\n\n    // 3. АНИМАЦИЯ HERO (С защитой от разрыва слов)\n    const initHeroAnimation = () => {\n        // types: 'words, chars' — оборачивает слова в блоки, предотвращая их разрыв при переносе\n        const heroTitle = new SplitType('#hero-title', { types: 'words, chars' });\n        \n        const tl = gsap.timeline({ defaults: { ease: \"power4.out\" } });\n\n        tl.to('.hero__title .char', {\n            y: 0,\n            opacity: 1,\n            stagger: 0.02,\n            duration: 1,\n            delay: 0.5\n        })\n        .to('.hero__subtitle', { y: 0, opacity: 1, duration: 0.8 }, \"-=0.6\")\n        .to('.hero__actions', { y: 0, opacity: 1, duration: 0.8 }, \"-=0.6\")\n        .to('.hero__stats', { opacity: 1, duration: 0.8 }, \"-=0.4\")\n        .from('.bento-hero', { scale: 0.8, opacity: 0, duration: 1.2, ease: \"expo.out\" }, \"-=1.2\");\n\n        // Параллакс мыши для Hero\n        const heroVisual = document.querySelector('.hero__visual');\n        if (heroVisual) {\n            window.addEventListener('mousemove', (e) => {\n                const x = (e.clientX - window.innerWidth / 2) / 50;\n                const y = (e.clientY - window.innerHeight / 2) / 50;\n                gsap.to('.bento-hero', { rotationY: x, rotationX: -y, duration: 1 });\n            });\n        }\n    };\n\n    // 4. СКРОЛЛ-АНИМАЦИИ ДЛЯ КАРТОЧЕК (Bento & Benefits)\n    const initScrollAnimations = () => {\n        gsap.utils.toArray('.animate-on-scroll').forEach((card, i) => {\n            gsap.to(card, {\n                scrollTrigger: {\n                    trigger: card,\n                    start: \"top 85%\",\n                },\n                opacity: 1,\n                y: 0,\n                duration: 0.8,\n                ease: \"power2.out\"\n            });\n        });\n    };\n\n    // 5. ДЕМО: КОД ПРОТИВ AI\n    const initInnovationDemo = () => {\n        const demoTl = gsap.timeline({\n            scrollTrigger: {\n                trigger: \"#ai-demo\",\n                start: \"top 70%\",\n            }\n        });\n\n        const traditionalCode = `function analyzeMarket(data) {\\n  return data.filter(item => {\\n    return item.region === 'Italy' && item.growth > 0;\\n  });\\n}`;\n        const aiPromptText = \"Проанализируй рынок Италии 2026\";\n\n        demoTl\n            .to(\"#traditional-code\", { duration: 2.5, text: traditionalCode, ease: \"none\" })\n            .to(\"#ai-text-input\", { duration: 1.5, text: aiPromptText, ease: \"none\" }, \"-=1\")\n            .to(\"#ai-progress\", { \n                innerText: 100, \n                duration: 1, \n                snap: { innerText: 1 },\n                onUpdate: function() { this.targets()[0].innerHTML = Math.ceil(this.targets()[0].innerText) + \"%\"; }\n            });\n    };\n\n    // 6. КОНТАКТЫ И ВРЕМЯ\n    const initContact = () => {\n        const updateTime = () => {\n            const timeEl = document.getElementById('milan-time');\n            if (timeEl) {\n                timeEl.textContent = new Date().toLocaleTimeString('it-IT', {\n                    timeZone: 'Europe/Rome', hour: '2-digit', minute: '2-digit', second: '2-digit'\n                });\n            }\n        };\n        setInterval(updateTime, 1000);\n\n        // Валидация телефона (только цифры)\n        const phone = document.getElementById('user-phone');\n        if (phone) phone.addEventListener('input', e => e.target.value = e.target.value.replace(/[^\\d+]/g, ''));\n\n        // Обработка формы\n        const form = document.getElementById('main-contact-form');\n        if (form) {\n            form.addEventListener('submit', e => {\n                e.preventDefault();\n                const btn = form.querySelector('button');\n                btn.textContent = 'Отправка...';\n                setTimeout(() => {\n                    form.reset();\n                    btn.innerHTML = '<span>Запросить доступ</span> <i data-lucide=\"send\"></i>';\n                    lucide.createIcons();\n                    alert('Успешно отправлено!');\n                }, 1500);\n            });\n        }\n    };\n\n    // 7. COOKIE POPUP\n    const initCookies = () => {\n        const popup = document.getElementById('cookie-popup');\n        const acceptBtn = document.getElementById('cookie-accept');\n        const rejectBtn = document.getElementById('cookie-reject');\n\n        if (!localStorage.getItem('cookie-consent')) {\n            setTimeout(() => {\n                popup.style.display = 'block';\n                gsap.fromTo(popup, { y: 50, opacity: 0 }, { y: 0, opacity: 1, duration: 0.5 });\n            }, 2000);\n        }\n\n        const closePopup = () => {\n            gsap.to(popup, { y: 50, opacity: 0, duration: 0.3, onComplete: () => popup.style.display = 'none' });\n        };\n\n        if (acceptBtn) acceptBtn.onclick = () => { localStorage.setItem('cookie-consent', 'accepted'); closePopup(); };\n        if (rejectBtn) rejectBtn.onclick = () => { localStorage.setItem('cookie-consent', 'rejected'); closePopup(); };\n    };\n\n    // Запуск всех модулей\n    initHeroAnimation();\n    initScrollAnimations();\n    initInnovationDemo();\n    initContact();\n    initCookies();\n    const initMobileMenu = () => {\n    const burger = document.getElementById('burger-menu');\n    const menu = document.getElementById('mobile-menu');\n    const body = document.body;\n    const links = document.querySelectorAll('.mobile-nav__link');\n\n    // Создаем таймлайн для анимации меню\n    const menuTl = gsap.timeline({ paused: true });\n\n    menuTl.to(menu, {\n        opacity: 1,\n        visibility: 'visible',\n        duration: 0.4,\n        ease: 'power2.out'\n    })\n    .to('.mobile-nav__item', {\n        opacity: 1,\n        y: 0,\n        duration: 0.5,\n        stagger: 0.1,\n        ease: 'power3.out'\n    }, \"-=0.2\")\n    .to('.mobile-menu__footer', {\n        opacity: 1,\n        duration: 0.4\n    }, \"-=0.3\");\n\n    const toggleMenu = () => {\n        const isOpen = burger.classList.contains('active');\n        \n        if (!isOpen) {\n            burger.classList.add('active');\n            menu.classList.add('active');\n            body.style.overflow = 'hidden'; // Блокируем скролл\n            menuTl.play();\n        } else {\n            burger.classList.remove('active');\n            menu.classList.remove('active');\n            body.style.overflow = '';\n            menuTl.reverse();\n        }\n    };\n\n    burger.addEventListener('click', toggleMenu);\n\n    // Закрытие при клике на ссылку (используем forEach как вы просили)\n    links.forEach(link => {\n        link.addEventListener('click', () => {\n            if (burger.classList.contains('active')) {\n                toggleMenu();\n            }\n        });\n    });\n};\n\n// Вызовите функцию внутри DOMContentLoaded\ninitMobileMenu();\n});"],"names":["header","initHeroAnimation","e","x","y","initScrollAnimations","card","i","initInnovationDemo","initContact","timeEl","phone","form","btn","initCookies","popup","acceptBtn","rejectBtn","closePopup","burger","menu","body","links","menuTl","toggleMenu","link"],"mappings":"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"}